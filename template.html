<!DOCTYPE html><html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Path Key • Console</title>
  <style>
    :root {
      --dark-green:#042316; --light-green:#1f3f2b; --gold:#cca242; --muted:#e8dec7; --radius:14px;
      --error:#ff6b6b;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,Helvetica,sans-serif;background:var(--dark-green);color:#fffaf0}
    header{background:var(--light-green);padding:12px 16px;position:sticky;top:0;z-index:10;border-bottom:1px solid #223c2a}
    .header-inner{position:relative;max-width:1100px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:baseline;gap:6px;text-decoration:none;color:inherit}
    .logo-img{height:64px;width:auto;display:block}
    .tagline{font-size:1rem;align-self:baseline;font-weight:350;margin-left:0}

    /* Desktop nav + actions */
    .nav-desktop{display:none;gap:14px;align-items:center}
    .nav-desktop a{color:var(--muted);text-decoration:none;font-size:.95rem;opacity:.9}
    .nav-desktop a:hover{opacity:1}

    .actions{display:flex;align-items:center;gap:8px;}
    .icon{width:32px;height:32px;border-radius:0px;outline:none; display:block; }
    .icon img { width: 100%; height: 100%; display:block; }
    button:focus-visible { outline: 2px solid var(--gold); outline-offset: 2px;}
    button, .signin-btn, icon-btn { -webkit-tap-highlight-color: transparent; }
    .icon-btn, .signin-btn{right:64px;display:flex;align-items:center;gap:3px;justify-content: center; padding: 6px 6px; border-radius:6px; margin-left:auto; border:none;background:transparent;color:#f3efe6;cursor:pointer}
    .icon-btn:hover, .signin-btn:hover{background:rgba(255,255,255,0,0.08 )}
    .spacer{flex:1;}



    /* Mobile dropdown menu */
    .menu-panel{display:none!important;position:absolute;right:16px;top:64px;background:linear-gradient(180deg,#0e281c,#0a2217);border:1px solid #234230;border-radius:12px;padding:10px;box-shadow:0 16px 40px -20px rgba(0,0,0,.6)}
    .menu-panel a{display:block;padding:10px 12px;border-radius:8px;color:#e7d7b3;text-decoration:none}
    .menu-panel a:hover{background:rgba(38,78,55,.2)}
    .menu-panel.open{display:block}

    /* Layout / cards */
    main{padding:24px 16px}
    .container{max-width:1100px;margin:0 auto}
    .grid{display:grid;grid-template-columns:1.1fr .9fr;gap:18px}
    @media (max-width:900px){.nav-desktop{display:none!important};.grid{grid-template-columns:1fr}}
    .card{background:linear-gradient(180deg,#0e281c,#0a2217);border:1px solid #234230;border-radius:var(--radius);padding:18px;box-shadow:0 24px 60px -30px rgba(0,0,0,.55)}
    .eyebrow{color:var(--muted);letter-spacing:.12em;text-transform:uppercase;font-size:.78rem}
    .title{font-size:clamp(1.4rem,3vw,2.1rem);line-height:1.2;margin:.35rem 0;color:#f6e9c7}
    .muted{color:#d7caa9}

    .panel{display:grid;gap:12px;margin-top:12px}
    label{font-size:.92rem;color:var(--muted)}
    input{width:100%;padding:12px 14px;border-radius:10px;border:1px solid #274a33;background:#0c2418;color:#fffaf0;outline:none}
    input::placeholder{color:#bdae90}
    .error{color:var(--error);font-size:.9rem;margin-top:4px}

    .buttons{display:flex;gap:10px;flex-wrap:wrap;margin-top:6px}
    button{appearance:none;border:0;border-radius:12px;padding:11px 16px;font-weight:700;cursor:pointer}
    .btn-primary{background:var(--gold);color:#2a1c00;box-shadow:0 10px 24px -10px rgba(204,162,66,.6)}
    .btn-primary:hover{filter:brightness(1.05)}
    .btn-ghost{background:transparent;color:#fffaf0;outline:1px solid #2a4a34}
    .btn-ghost:hover{background:rgba(38,78,55,.2)}

    .features{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:14px}
    @media (max-width:900px){.features{grid-template-columns:1fr}}
    .feature{border:1px dashed #2a4a34;border-radius:12px;padding:14px;position:relative;cursor:pointer;transition:transform .15s ease,box-shadow .2s ease,border-color .2s ease;overflow:hidden}
    .feature:hover{transform:translateY(-1px);border-color:#2f5a3d;box-shadow:0 10px 26px -16px rgba(0,0,0,.55)}
    .feature h3{margin:.2rem 0 .35rem;color:#f6e9c7}
    .feature .value{display:block;transition:opacity .15s ease}
    .feature .desc{display:none;color:#e8dec7}
    .feature:hover .value{display:none}
    .feature:hover .desc{display:block}
    .feature:active{transform:translateY(0) scale(.995)}
    .aura{box-shadow:0 0 0 2px rgba(204,162,66,.6),0 0 24px 6px rgba(204,162,66,.35),inset 0 0 0 1px rgba(204,162,66,.5);border-color:#cca242!important}

    .tip{margin-top:10px;font-size:.86rem;color:#d7caa9;border-left:3px solid var(--gold);padding:8px 10px;background:rgba(204,162,66,.08);border-radius:8px}
    footer{border-top:1px solid #22402d;margin-top:28px;color:#d7caa9}
    .footer-inner{max-width:1100px;margin:0 auto;padding:14px 16px;display:flex;justify-content:space-between;gap:12px;flex-wrap:wrap;justify-content:center;}

    /* Responsive: show desktop nav at >=900px; show hamburger below */
    @media (min-width:900px){
      .nav-desktop{display:none}
      #menuBtn{display:inline-flex!important;align-items:center;justify-content:center}
      .menu-panel{display:none!important}
    }
  </style>
</head>
<body>
<header>
  <div class="header-inner">
    <a class="brand" href="#">
      <img class="logo-img" src="./assets/logo_text.png" alt="Path Key text"/>
      <img class="logo-img" src="./assets/logo_key.png" alt="Path Key logo"/>
      <span class="tagline">Web</span>
    </a>

    <!-- Desktop nav -->
    <nav class="nav-desktop">
  <a href="about.html" target="_blank" rel="noopener">About</a>
  <a href="more.html" target="_blank" rel="noopener">More</a>
  <a href="contact.html" target="_blank" rel="noopener">Contact</a>
</nav>
<div class="spacer"></div>
    <!-- Actions: Sign in + Hamburger -->
    <div class="actions">
      <button class="signin-btn" id="signinBtn" title="Sign in" type="button">
        <div class="icon" aria-hidden="true"></div><img src="./assets/signin.svg" class="icon">
        <span>Sign in</span>
      </button>
      <button class="icon-btn" id="menuBtn" aria-label="Menu" aria-controls="mobileMenu" aria-expanded="false" type="button">
        <div class="icon" aria-hidden="true"></div><img src="./assets/menu.svg" class="icon">
      </button>
    </div>
  </div>

  <!-- Mobile dropdown menu -->
  <div id="mobileMenu" class="menu-panel" role="menu" hidden>
  <a href="about.html" target="_blank" rel="noopener" role="menuitem">About</a>
  <a href="more.html" target="_blank" rel="noopener" role="menuitem">More</a>
  <a href="contact.html" target="_blank" rel="noopener" role="menuitem">Contact</a>
</div>
</header>

<main>
  <div class="container grid">
    <section class="card">
      <div class="eyebrow">Unlock your path</div>
      <h1 class="title">Path Key Web</h1>
      <p class="muted">Your life was predetermined when you were born. Enter your birthday below to find out your path.</p>

      <div id="calculator" class="panel">
        <label for="bday">Birthday</label>
        <input id="bday" type="date" placeholder="12/05/1987" min="1900-01-01" max="2099-12-31" />
        <p id="bdayError" class="error" hidden>Please select a valid birthday.</p>
        <div class="buttons">
          <button id="unlockBtn" class="btn-primary" type="button">Unlock</button>
          <button class="btn-ghost" type="reset" onclick="document.getElementById('bday').value='';document.getElementById('bdayError').hidden=true;document.getElementById('resultsCard').hidden=true;">Clear</button>
        </div>
      </div>
    </section>

    <!-- Results start hidden -->
    <section class="card" id="resultsCard" hidden>
      <h2 class="title" style="font-size:1.4rem">Your Path Numbers</h2>
      <div class="features" id="results">
        <div class="feature" data-role="master" data-link="/learn/master-path-sum.html">
          <h3>Master Path Sum</h3>
          <p class="muted value">33 / 6</p>
          <p class="desc">Master number present; powerful initiator with cooperative undertone.</p>
        </div>
        <div class="feature" data-role="sub" data-link="/learn/sub-lesson.html">
          <h3>Sub Lesson</h3>
          <p class="muted value">12 / 6</p>
          <p class="desc">Introspective analysis; refine through study and truth‑seeking.</p>
        </div>
        <div class="feature" data-role="daily" data-link="/learn/daily-number.html">
          <h3>Daily Number</h3>
          <p class="muted value">5</p>
          <p class="desc">Flexibility day; expect change and small experiments.</p>
        </div>
      </div>
    </section>
  </div>
</main>

<footer>
  <div class="footer-inner">
    <small>© <span id="year"></span> Path Key.</small>
    <small>Path Key, My Path Key, PathKey, and MyPathKey and registered trademarks of Anthony M. Lenk. All rights reserved.</small>
    <small>Palette: <code>#042316</code> • <code>#1f3f2b</code> • <code>#cca242</code></small>
  </div>
</footer>

<script>
  document.getElementById('year').textContent = new Date().getFullYear();

  // Native date fallback for old browsers
  (function(){
    const el=document.getElementById('bday');
    const test=document.createElement('input'); test.type='date';
    if(test.type!=='date'){ el.type='text'; el.placeholder='YYYY-MM-DD'; el.pattern='^\\d{4}-\\d{2}-\\d{2}$'; }
  })();

  // Mobile menu toggle
  (function(){
    const btn=document.getElementById('menuBtn');
    const panel=document.getElementById('mobileMenu');
    btn.addEventListener('click', () => {
      const open=panel.hasAttribute('hidden');
      if(open){ panel.removeAttribute('hidden'); panel.classList.add('open'); btn.setAttribute('aria-expanded','true'); }
      else{ panel.setAttribute('hidden',''); panel.classList.remove('open'); btn.setAttribute('aria-expanded','false'); }
    });
    // click outside to close
    document.addEventListener('click', (e) => {
      if(!panel.contains(e.target) && !btn.contains(e.target)) { panel.setAttribute('hidden',''); panel.classList.remove('open'); btn.setAttribute('aria-expanded','false'); }
    });
  })();

  // Unlock flow: validate date, then reveal results
  (function(){
    const unlockBtn=document.getElementById('unlockBtn');
    const bday=document.getElementById('bday');
    const error=document.getElementById('bdayError');
    const results=document.getElementById('resultsCard');

    unlockBtn.addEventListener('click', () => {
      if(!bday.value){ error.hidden=false; results.hidden=true; bday.focus(); return; }
      error.hidden=true; results.hidden=false;

      // Gold aura rule for Master Path Sum (kept from earlier)
      const master=document.querySelector('#results [data-role="master"]');
      if(master){
        const text=(master.querySelector('.value')?.textContent||'').trim();
        if(/(^|[^\\d])(11|22|33)([^\\d]|$)/.test(text)){ master.classList.add('aura'); }
        else{ master.classList.remove('aura'); }
      }
      results.scrollIntoView({behavior:'smooth',block:'start'});
    });
  })();

  // Result tiles: click to open, keyboard accessible
  (function(){
    const tiles=document.querySelectorAll('#results .feature');
    tiles.forEach(tile=>{
      const link=tile.getAttribute('data-link')||'#';
      tile.addEventListener('click',()=>{ if(link!=='#') window.location.href=link; });
      tile.addEventListener('keydown',(e)=>{ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); if(link!=='#') window.location.href=link; }});
      tile.setAttribute('tabindex','0');
    });
  })();
</script>
</body>
</html>
